<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/engine/keyboard.js - Panda.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../../img/logo_small2.png" title="Panda.js"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.13.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/game.Analytics.html">game.Analytics</a></li>
                                <li><a href="../classes/game.Animation.html">game.Animation</a></li>
                                <li><a href="../classes/game.Audio.html">game.Audio</a></li>
                                <li><a href="../classes/game.BaseTexture.html">game.BaseTexture</a></li>
                                <li><a href="../classes/game.BitmapText.html">game.BitmapText</a></li>
                                <li><a href="../classes/game.Body.html">game.Body</a></li>
                                <li><a href="../classes/game.Camera.html">game.Camera</a></li>
                                <li><a href="../classes/game.Circle.html">game.Circle</a></li>
                                <li><a href="../classes/game.Class.html">game.Class</a></li>
                                <li><a href="../classes/game.CollisionSolver.html">game.CollisionSolver</a></li>
                                <li><a href="../classes/game.Container.html">game.Container</a></li>
                                <li><a href="../classes/game.Core.html">game.Core</a></li>
                                <li><a href="../classes/game.Debug.html">game.Debug</a></li>
                                <li><a href="../classes/game.DebugDraw.html">game.DebugDraw</a></li>
                                <li><a href="../classes/game.DisplayObject.html">game.DisplayObject</a></li>
                                <li><a href="../classes/game.Emitter.html">game.Emitter</a></li>
                                <li><a href="../classes/game.Graphics.html">game.Graphics</a></li>
                                <li><a href="../classes/game.Keyboard.html">game.Keyboard</a></li>
                                <li><a href="../classes/game.Loader.html">game.Loader</a></li>
                                <li><a href="../classes/game.Particle.html">game.Particle</a></li>
                                <li><a href="../classes/game.Point.html">game.Point</a></li>
                                <li><a href="../classes/game.Pool.html">game.Pool</a></li>
                                <li><a href="../classes/game.Rectangle.html">game.Rectangle</a></li>
                                <li><a href="../classes/game.RenderTexture.html">game.RenderTexture</a></li>
                                <li><a href="../classes/game.Scene.html">game.Scene</a></li>
                                <li><a href="../classes/game.Spine.html">game.Spine</a></li>
                                <li><a href="../classes/game.Sprite.html">game.Sprite</a></li>
                                <li><a href="../classes/game.SpriteSheet.html">game.SpriteSheet</a></li>
                                <li><a href="../classes/game.Storage.html">game.Storage</a></li>
                                <li><a href="../classes/game.System.html">game.System</a></li>
                                <li><a href="../classes/game.Text.html">game.Text</a></li>
                                <li><a href="../classes/game.Texture.html">game.Texture</a></li>
                                <li><a href="../classes/game.TilingSprite.html">game.TilingSprite</a></li>
                                <li><a href="../classes/game.Timer.html">game.Timer</a></li>
                                <li><a href="../classes/game.Tween.html">game.Tween</a></li>
                                <li><a href="../classes/game.TweenEngine.html">game.TweenEngine</a></li>
                                <li><a href="../classes/game.TweenGroup.html">game.TweenGroup</a></li>
                                <li><a href="../classes/game.Vector.html">game.Vector</a></li>
                                <li><a href="../classes/game.Video.html">game.Video</a></li>
                                <li><a href="../classes/game.World.html">game.World</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/analytics.html">analytics</a></li>
                                <li><a href="../modules/audio.html">audio</a></li>
                                <li><a href="../modules/camera.html">camera</a></li>
                                <li><a href="../modules/debug.html">debug</a></li>
                                <li><a href="../modules/game.html">game</a></li>
                                <li><a href="../modules/keyboard.html">keyboard</a></li>
                                <li><a href="../modules/loader.html">loader</a></li>
                                <li><a href="../modules/particle.html">particle</a></li>
                                <li><a href="../modules/physics.html">physics</a></li>
                                <li><a href="../modules/pool.html">pool</a></li>
                                <li><a href="../modules/renderer.html">renderer</a></li>
                                <li><a href="../modules/scene.html">scene</a></li>
                                <li><a href="../modules/storage.html">storage</a></li>
                                <li><a href="../modules/system.html">system</a></li>
                                <li><a href="../modules/timer.html">timer</a></li>
                                <li><a href="../modules/tween.html">tween</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited">
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src/engine/keyboard.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
    @module keyboard
    @namespace game
**/
game.module(
    &#x27;engine.keyboard&#x27;
)
.body(function() {
&#x27;use strict&#x27;;

/**
    @class Keyboard
    @extends game.Class
**/
game.createClass(&#x27;Keyboard&#x27;, {
    keysDown: [],

    init: function() {
        window.addEventListener(&#x27;keydown&#x27;, this.keydown.bind(this));
        window.addEventListener(&#x27;keyup&#x27;, this.keyup.bind(this));
        window.addEventListener(&#x27;blur&#x27;, this.resetKeys.bind(this));
    },

    resetKeys: function() {
        for (var key in this.keysDown) {
            this.keysDown[key] = false;
        }
    },

    keydown: function(event) {
        if (!game.scene) return;
        if (!game.Keyboard.keys[event.keyCode]) {
            // Unknown key
            game.Keyboard.keys[event.keyCode] = event.keyCode;
        }
        if (this.keysDown[game.Keyboard.keys[event.keyCode]]) return; // Key already down

        this.keysDown[game.Keyboard.keys[event.keyCode]] = true;
        var prevent = game.scene.keydown(game.Keyboard.keys[event.keyCode], this.down(&#x27;SHIFT&#x27;), this.down(&#x27;CTRL&#x27;), this.down(&#x27;ALT&#x27;));
        if (prevent) event.preventDefault();
    },

    keyup: function(event) {
        if (!game.scene) return;
        this.keysDown[game.Keyboard.keys[event.keyCode]] = false;
        game.scene.keyup(game.Keyboard.keys[event.keyCode]);
    },

    /**
        Check if key is pressed down.
        @method down
        @return {Boolean}
    **/
    down: function(key) {
        return !!this.keysDown[key];
    }
});

game.addAttributes(&#x27;Keyboard&#x27;, {
    /**
        List of available keys.
        @attribute {Object} keys
    **/
    keys: {
        8: &#x27;BACKSPACE&#x27;,
        9: &#x27;TAB&#x27;,
        13: &#x27;ENTER&#x27;,
        16: &#x27;SHIFT&#x27;,
        17: &#x27;CTRL&#x27;,
        18: &#x27;ALT&#x27;,
        19: &#x27;PAUSE&#x27;,
        20: &#x27;CAPS_LOCK&#x27;,
        27: &#x27;ESC&#x27;,
        32: &#x27;SPACE&#x27;,
        33: &#x27;PAGE_UP&#x27;,
        34: &#x27;PAGE_DOWN&#x27;,
        35: &#x27;END&#x27;,
        36: &#x27;HOME&#x27;,
        37: &#x27;LEFT&#x27;,
        38: &#x27;UP&#x27;,
        39: &#x27;RIGHT&#x27;,
        40: &#x27;DOWN&#x27;,
        44: &#x27;PRINT_SCREEN&#x27;,
        45: &#x27;INSERT&#x27;,
        46: &#x27;DELETE&#x27;,
        48: &#x27;0&#x27;,
        49: &#x27;1&#x27;,
        50: &#x27;2&#x27;,
        51: &#x27;3&#x27;,
        52: &#x27;4&#x27;,
        53: &#x27;5&#x27;,
        54: &#x27;6&#x27;,
        55: &#x27;7&#x27;,
        56: &#x27;8&#x27;,
        57: &#x27;9&#x27;,
        65: &#x27;A&#x27;,
        66: &#x27;B&#x27;,
        67: &#x27;C&#x27;,
        68: &#x27;D&#x27;,
        69: &#x27;E&#x27;,
        70: &#x27;F&#x27;,
        71: &#x27;G&#x27;,
        72: &#x27;H&#x27;,
        73: &#x27;I&#x27;,
        74: &#x27;J&#x27;,
        75: &#x27;K&#x27;,
        76: &#x27;L&#x27;,
        77: &#x27;M&#x27;,
        78: &#x27;N&#x27;,
        79: &#x27;O&#x27;,
        80: &#x27;P&#x27;,
        81: &#x27;Q&#x27;,
        82: &#x27;R&#x27;,
        83: &#x27;S&#x27;,
        84: &#x27;T&#x27;,
        85: &#x27;U&#x27;,
        86: &#x27;V&#x27;,
        87: &#x27;W&#x27;,
        88: &#x27;X&#x27;,
        89: &#x27;Y&#x27;,
        90: &#x27;Z&#x27;,
        96: &#x27;NUM_ZERO&#x27;,
        97: &#x27;NUM_ONE&#x27;,
        98: &#x27;NUM_TWO&#x27;,
        99: &#x27;NUM_THREE&#x27;,
        100: &#x27;NUM_FOUR&#x27;,
        101: &#x27;NUM_FIVE&#x27;,
        102: &#x27;NUM_SIX&#x27;,
        103: &#x27;NUM_SEVEN&#x27;,
        104: &#x27;NUM_EIGHT&#x27;,
        105: &#x27;NUM_NINE&#x27;,
        106: &#x27;NUM_MULTIPLY&#x27;,
        107: &#x27;NUM_PLUS&#x27;,
        109: &#x27;NUM_MINUS&#x27;,
        110: &#x27;NUM_PERIOD&#x27;,
        111: &#x27;NUM_DIVISION&#x27;,
        112: &#x27;F1&#x27;,
        113: &#x27;F2&#x27;,
        114: &#x27;F3&#x27;,
        115: &#x27;F4&#x27;,
        116: &#x27;F5&#x27;,
        117: &#x27;F6&#x27;,
        118: &#x27;F7&#x27;,
        119: &#x27;F8&#x27;,
        120: &#x27;F9&#x27;,
        121: &#x27;F10&#x27;,
        122: &#x27;F11&#x27;,
        123: &#x27;F12&#x27;,
        186: &#x27;SEMICOLON&#x27;,
        187: &#x27;PLUS&#x27;,
        189: &#x27;MINUS&#x27;,
        192: &#x27;GRAVE_ACCENT&#x27;,
        222: &#x27;SINGLE_QUOTE&#x27;
    }
});

game.keyboard = new game.Keyboard();

});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
